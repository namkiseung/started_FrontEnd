{"ast":null,"code":"import axios from 'axios'; //action의 type이다.\n\nexport var REQUEST_CONTENTS = \"REQUEST_CONTENTS\";\nexport var RECEIVE_CONTENTS = \"RECEIVE_CONTENTS\"; //받았으니까 state 업뎃해!!\n\nexport var CHANGE_FULL_CONTENT = \"CHANGE_FULL_CONTENT\"; //홈에 있는 하나의 거대한 컴포넌트\n//action creater\n\nvar requestContents = function requestContents() {\n  return {\n    type: REQUEST_CONTENTS\n  };\n};\n\nvar receiveContents = function receiveContents(contents) {\n  return {\n    type: RECEIVE_CONTENTS,\n    contents: contents,\n    receiveAt: Date.now()\n  };\n};\n\nvar changeFullContent = function changeFullContent(content) {\n  return {\n    type: CHANGE_FULL_CONTENT,\n    content: content\n  };\n};\n\nvar maxResults = 30;\nvar token = \"\"; //비동기 액션 생성자 (async action creator)\n\nexport var fetchContents = function fetchContents() {\n  return function (dispatch) {\n    dispatch(requestContents());\n    API().then(function (_ref) {\n      var data = _ref.data;\n      var contents = setContents(data);\n      dispatch(receiveContents(content));\n    }).catch(function (e) {\n      console.log(e);\n    });\n  };\n};\n\nvar setContents = function setContents(data) {\n  var list = [];\n  data.items.forEach(function (item, index) {\n    list.push({\n      id: item.id.videoId,\n      name: item.snippet.title\n    });\n  });\n  return list;\n};\n\nvar API = function API() {\n  var URL = \"https://www.googleapis.com/youtube/v3/videos?part=snippet&chart=mostPopular&key=AIzaSyC-v1sIG2Wn3YnoD_7_bBS4zPDceDLKmLY&maxResults=21\";\n  return axios.get(URL); //리턴으로 프라미스로 받으니 then으로 리턴가능하다.\n};","map":{"version":3,"sources":["C:\\Users\\namki\\Desktop\\react_tailing\\ReactStudy\\4week\\youflix\\src\\actions.js"],"names":["axios","REQUEST_CONTENTS","RECEIVE_CONTENTS","CHANGE_FULL_CONTENT","requestContents","type","receiveContents","contents","receiveAt","Date","now","changeFullContent","content","maxResults","token","fetchContents","dispatch","API","then","data","setContents","catch","e","console","log","list","items","forEach","item","index","push","id","videoId","name","snippet","title","URL","get"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB,C,CAEA;;AACA,OAAO,IAAMC,gBAAgB,GAAG,kBAAzB;AACP,OAAO,IAAMC,gBAAgB,GAAG,kBAAzB,C,CAA6C;;AACpD,OAAO,IAAMC,mBAAmB,GAAG,qBAA5B,C,CAAmD;AAE1D;;AACA,IAAMC,eAAe,GAAG,SAAlBA,eAAkB;AAAA,SAAO;AAAEC,IAAAA,IAAI,EAAEJ;AAAR,GAAP;AAAA,CAAxB;;AACA,IAAMK,eAAe,GAAG,SAAlBA,eAAkB,CAACC,QAAD;AAAA,SAAe;AAAEF,IAAAA,IAAI,EAAEH,gBAAR;AACnCK,IAAAA,QAAQ,EAAEA,QADyB;AAEnCC,IAAAA,SAAS,EAAEC,IAAI,CAACC,GAAL;AAFwB,GAAf;AAAA,CAAxB;;AAKA,IAAMC,iBAAiB,GAAG,SAApBA,iBAAoB,CAACC,OAAD;AAAA,SAAc;AACpCP,IAAAA,IAAI,EAAEF,mBAD8B;AAEpCS,IAAAA,OAAO,EAAEA;AAF2B,GAAd;AAAA,CAA1B;;AAKA,IAAMC,UAAU,GAAG,EAAnB;AACA,IAAMC,KAAK,GAAG,EAAd,C,CAEA;;AACA,OAAO,IAAMC,aAAa,GAAG,SAAhBA,aAAgB,GAAM;AAC/B,SAAO,UAAAC,QAAQ,EAAI;AACfA,IAAAA,QAAQ,CAACZ,eAAe,EAAhB,CAAR;AACAa,IAAAA,GAAG,GAAGC,IAAN,CAAW,gBAAY;AAAA,UAAVC,IAAU,QAAVA,IAAU;AACnB,UAAIZ,QAAQ,GAAGa,WAAW,CAACD,IAAD,CAA1B;AACAH,MAAAA,QAAQ,CAACV,eAAe,CAACM,OAAD,CAAhB,CAAR;AACH,KAHD,EAIAS,KAJA,CAIM,UAAAC,CAAC,EAAI;AACPC,MAAAA,OAAO,CAACC,GAAR,CAAYF,CAAZ;AACH,KAND;AAOH,GATD;AAUH,CAXM;;AAaP,IAAMF,WAAW,GAAG,SAAdA,WAAc,CAACD,IAAD,EAAU;AAC1B,MAAIM,IAAI,GAAG,EAAX;AACCN,EAAAA,IAAI,CAACO,KAAL,CAAWC,OAAX,CAAmB,UAACC,IAAD,EAAOC,KAAP,EAAiB;AAChCJ,IAAAA,IAAI,CAACK,IAAL,CAAU;AAAEC,MAAAA,EAAE,EAACH,IAAI,CAACG,EAAL,CAAQC,OAAb;AAAqBC,MAAAA,IAAI,EAACL,IAAI,CAACM,OAAL,CAAaC;AAAvC,KAAV;AACJ,GAFA;AAGD,SAAOV,IAAP;AACH,CAND;;AAQA,IAAMR,GAAG,GAAG,SAANA,GAAM,GAAM;AACd,MAAMmB,GAAG,GAAG,uIAAZ;AACA,SAAOpC,KAAK,CAACqC,GAAN,CAAUD,GAAV,CAAP,CAFc,CAEU;AAC3B,CAHD","sourcesContent":["import axios from 'axios';\r\n\r\n//action의 type이다.\r\nexport const REQUEST_CONTENTS = \"REQUEST_CONTENTS\";\r\nexport const RECEIVE_CONTENTS = \"RECEIVE_CONTENTS\"; //받았으니까 state 업뎃해!!\r\nexport const CHANGE_FULL_CONTENT = \"CHANGE_FULL_CONTENT\"; //홈에 있는 하나의 거대한 컴포넌트\r\n\r\n//action creater\r\nconst requestContents = () => ({ type: REQUEST_CONTENTS });\r\nconst receiveContents = (contents) => ({ type: RECEIVE_CONTENTS,\r\n    contents: contents,\r\n    receiveAt: Date.now()\r\n});\r\n\r\nconst changeFullContent = (content) => ({\r\n    type: CHANGE_FULL_CONTENT,\r\n    content: content\r\n});\r\n\r\nconst maxResults = 30;\r\nconst token = \"\";\r\n\r\n//비동기 액션 생성자 (async action creator)\r\nexport const fetchContents = () => {\r\n    return dispatch => {\r\n        dispatch(requestContents());\r\n        API().then(({data}) => {\r\n            let contents = setContents(data);\r\n            dispatch(receiveContents(content));\r\n        }).\r\n        catch(e => {\r\n            console.log(e);\r\n        });    \r\n    };\r\n};\r\n\r\nconst setContents = (data) => { \r\n    let list = []\r\n     data.items.forEach((item, index) => {\r\n         list.push({ id:item.id.videoId,name:item.snippet.title })\r\n    })\r\n    return list\r\n}\r\n\r\nconst API = () => {\r\n    const URL = \"https://www.googleapis.com/youtube/v3/videos?part=snippet&chart=mostPopular&key=AIzaSyC-v1sIG2Wn3YnoD_7_bBS4zPDceDLKmLY&maxResults=21\"\r\n    return axios.get(URL);  //리턴으로 프라미스로 받으니 then으로 리턴가능하다.\r\n};"]},"metadata":{},"sourceType":"module"}